(()=>{"use strict";class e{constructor(e){this.scrollPosition=e}fixed(){const e=document.getElementById("wpadminbar")?document.getElementById("wpadminbar").offsetHeight:0;this.scrollPosition=document.documentElement.scrollTop||document.body.scrollTop,document.getElementById("wrapper").style.position="fixed",document.getElementById("wrapper").style.width="100%",document.getElementById("wrapper").style.zIndex="1",document.getElementById("wrapper").style.top=`-${this.scrollPosition-e}px`}reset(){document.getElementById("wrapper").style.position=null,document.getElementById("wrapper").style.width=null,document.getElementById("wrapper").style.zIndex=null,document.getElementById("wrapper").style.top=null,document.scrollingElement.scrollTop=this.scrollPosition}}const t=()=>{const e=document.getElementById("header"),t=document.getElementById("wrapper"),n=document.getElementById("gnav"),o=document.getElementById("wpadminbar")?document.getElementById("wpadminbar").offsetHeight:0;let d=e.offsetHeight,l=document.documentElement.scrollTop||document.body.scrollTop;n.classList.contains("is-opened")||(l>=d?(e.classList.add("is-scrolled"),e.style.top=o+"px",t.style.paddingTop=d+"px"):(e.classList.remove("is-scrolled"),e.style.top=null,t.style.paddingTop=null))},n=e=>{if(e){let t=document.createElement("div");t.className="l-bg-layer",anime({targets:t,keyframes:[{opacity:0},{opacity:.4},{opacity:1}],duration:300,easing:"linear"}),e.classList.contains("is-opened")?document.querySelector(".l-bg-layer")&&document.querySelector(".l-bg-layer").parentNode.removeChild(document.querySelector(".l-bg-layer")):document.getElementById("wrapper").insertBefore(t,document.getElementById("header"))}},o=()=>{const e=document.getElementById("gnav"),t=document.getElementById("header").offsetHeight,n=document.getElementById("wpadminbar")?document.getElementById("wpadminbar").offsetHeight:0;e.style.paddingTop=`${t+n}px`},d=()=>{const e=document.getElementById("wpadminbar")?document.getElementById("wpadminbar").offsetHeight:0,t=document.getElementById("searchForm"),n=document.getElementById("header").offsetHeight;t.style.top=n+e+"px"},l={hoverBounce(e){anime.remove(e.currentTarget),anime({targets:e.currentTarget,scale:this.scale,duration:this.duration,elasticity:this.elasticity})},delayFadeinUp(){anime({targets:".u-dalay-fadein-up",keyframes:[{opacity:0,translateY:40},{opacity:1,translateY:0}],duration:2e3,easing:"easeOutCirc",delay:anime.stagger(200,{start:0})})}},r=()=>{document.querySelectorAll(".is-type-video iframe").forEach((e=>{let t=e.clientWidth,n=e.getAttribute("width"),o=e.getAttribute("height");e.style.height=t/n*o+"px"}))};window.addEventListener("DOMContentLoaded",(()=>{o(),d(),(()=>{const o=new e,d=document.getElementById("gnavBtn"),l=document.getElementById("gnav");d.addEventListener("click",(e=>{let d=document.querySelector(".l-bg-layer");d&&d.parentNode.removeChild(document.querySelector(".l-bg-layer")),n(e.currentTarget),e.currentTarget.textContent,e.currentTarget.classList.contains("is-opened")?e.currentTarget.textContent="menu":(document.querySelectorAll(".is-opened").forEach((e=>{e.classList.remove("is-opened")})),e.currentTarget.textContent="close"),e.currentTarget.classList.toggle("is-opened"),l.classList.toggle("is-opened"),l.classList.contains("is-opened")?(o.fixed(),t()):(o.reset(),t())}))})(),(()=>{document.querySelector(".l-bg-layer")&&document.querySelector(".l-bg-layer").parentNode.removeChild(document.querySelector(".l-bg-layer"));const e=document.getElementById("searchBtn"),t=document.getElementById("searchForm");document.getElementById("header").offsetHeight,e.addEventListener("click",(e=>{document.querySelectorAll("is-opened").forEach((e=>{e.classList.remove("is-opened")})),n(e.currentTarget),e.currentTarget.classList.toggle("is-opened"),t.classList.toggle("is-opened")}))})(),t(),r(),hljs.highlightAll()})),window.addEventListener("load",(()=>{l.delayFadeinUp()}));let s=null;window.addEventListener("resize",(()=>{clearTimeout(s),s=setTimeout((()=>{o(),d(),r()}),100)}),!1),window.addEventListener("scroll",(()=>{t()}));const a=document.querySelectorAll(".u-hover-bounce"),c={scale:1.1,duration:1e3,elasticity:50},i={scale:1,duration:500,elasticity:0};a.forEach((e=>{e.addEventListener("mouseenter",l.hoverBounce.bind(c)),e.addEventListener("touchstart",l.hoverBounce.bind(c)),e.addEventListener("mouseleave",l.hoverBounce.bind(i)),e.addEventListener("touchend",l.hoverBounce.bind(i))}))})();
//# sourceMappingURL=main.js.map